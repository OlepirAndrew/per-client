<div class="list-container">
  <div class="action-group">
    <button mat-raised-button (click)="addAdmin()">
      Add admin
    </button>
  </div>

  @if (isLoadingResults) {
    <div class="loading-shade">
        <mat-spinner></mat-spinner>
    </div>
  }
<div class="table-container">
    <table mat-table [dataSource]="adminList">
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="edit(row)" class="clickable"></tr>

      @for (column of displayedColumns; track $index) {
        <ng-container [matColumnDef]="column">
          <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>

          <td mat-cell *matCellDef="let element">
            @switch (column) {
              @case ('actions') {
                <button mat-button color="warn" [disabled]="disable | async" (click)="onDelete(element); $event.stopPropagation()">Delete</button>
              }
              @default {
                {{ element[column] || (column === 'lastLogin' ? 'Never' : '') }}
              }
            }
          </td>
        </ng-container>
      }
    </table>
</div>
  <mat-paginator [length]="resultsLength" [pageSize]="pageSize"></mat-paginator>
</div>
